{"mappings":"A,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,C,C,E,C,E,E,C,E,E,E,iB,C,I,E,I,A,C,E,S,C,C,C,G,K,E,O,C,C,E,C,O,A,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,A,I,E,A,M,uB,E,I,O,E,I,C,mB,C,A,C,E,Q,C,S,C,C,C,C,C,C,C,E,C,C,E,E,iB,C,G,I,G,E,SGAA,EAAA,S,E,U,S,E,C,C,C,I,E,E,E,M,C,G,C,E,A,C,E,E,O,A,E,Q,E,A,C,E,E,O,A,E,KD2BQ,EAAA,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,EAAA,CAAI,CAAJ,EAAA,E,A,C,E,E,I,A,E,E,Q,gB,E,E,C,C,C,C,CAFR,AAAA,CAAA,EAAA,EAAA,MAAA,AAAA,EAAA,EAAA,EAAA,GAEI,AAAA,CAAA,EAAA,EAAA,MAAa,AAAb,EAAA,EAAA,G,A,C,E,E,M,A,E,E,E,E,E,C,C,C,E,C,CAAI,EAAA,GAAA,AAAA,CAAA,EAAA,EAAA,QAAA,AAAA,EAAA,EAAA,CAAI,CAAJ,EAAA,C,E,E,E,I,C,E,E,I,C,E,C,C,C,G,A,C,E,E,M,A,E,E,C,C,C,S,E,C,C,C,C,C,C,CAtBA,IAAA,EAAO,G,MAEX,AAAA,CAAA,EAAA,EAAA,OAAO,AAAP,EAAA,SAAA,CACU,IAAA,EAAe,IAAO,gBAAgB,OAAO,QAAQ,CAAC,MAAM,EAC5D,EAAQ,OAAO,WAAW,CAAC,EAAgB,OAAO,IAElD,EAAG,MAAS,MAAM,sBAAqB,IAAO,gBAAe,CAC/D,KAAM,EAAM,IADV,AAAA,IAGF,EAAI,MAAS,EAAI,IAAI,EAEtB,CAAA,EAAI,EAAE,GACL,EAAA,EAAA,EAAO,EAAK,MAAZ,EACA,OAAO,QAAQ,CAAC,OAAO,CAAC,S,G,C,E,A,C,M,U,E,e,C,Y,C,C,C,K,G,A,C,E,E,I,A,E,I,C,E,E,E,E,c,C,C,E,C,CDhBnB,I,EAAQ,CAAC,OAAQ,SAAS,IAAI,AAAC","sources":["<anon>","src/callback/twt/main.ts","src/callback/twt/App.svelte","node_modules/svelte/index.mjs"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequiree8ef\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequiree8ef\"] = parcelRequire;\n}\n/* src/callback/twt/App.svelte generated by Svelte v3.55.1 */ \nvar $6ojdr = parcelRequire(\"6ojdr\");\n\nvar $6ojdr = parcelRequire(\"6ojdr\");\n\n\nvar $6ojdr = parcelRequire(\"6ojdr\");\nfunction $ca5010eea191d249$var$create_fragment(ctx) {\n    let main;\n    let p;\n    let t;\n    return {\n        c () {\n            main = (0, $6ojdr.element)(\"main\");\n            p = (0, $6ojdr.element)(\"p\");\n            t = (0, $6ojdr.text)(/*code*/ ctx[0]);\n            (0, $6ojdr.attr)(main, \"class\", \"svelte-8o1gnw\");\n        },\n        m (target, anchor) {\n            (0, $6ojdr.insert)(target, main, anchor);\n            (0, $6ojdr.append)(main, p);\n            (0, $6ojdr.append)(p, t);\n        },\n        p (ctx, [dirty]) {\n            if (dirty & /*code*/ 1) (0, $6ojdr.set_data)(t, /*code*/ ctx[0]);\n        },\n        i: (0, $6ojdr.noop),\n        o: (0, $6ojdr.noop),\n        d (detaching) {\n            if (detaching) (0, $6ojdr.detach)(main);\n        }\n    };\n}\nlet $ca5010eea191d249$var$state = \"\";\nfunction $ca5010eea191d249$var$instance($$self, $$props, $$invalidate) {\n    let code = \"\";\n    (0, $6ojdr.onMount)(async ()=>{\n        const urlSearchParams = new URLSearchParams(window.location.search);\n        const param = Object.fromEntries(urlSearchParams.entries());\n        const res = await fetch(\"/auth/twt/callback?\" + new URLSearchParams({\n            code: param[\"code\"]\n        }));\n        let data = await res.json();\n        if (res.ok) {\n            $$invalidate(0, code = data[\"status\"]);\n            window.location.replace(\"/home\");\n        }\n    });\n    return [\n        code\n    ];\n}\nclass $ca5010eea191d249$var$App extends (0, $6ojdr.SvelteComponent) {\n    constructor(options){\n        super();\n        (0, $6ojdr.init)(this, options, $ca5010eea191d249$var$instance, $ca5010eea191d249$var$create_fragment, (0, $6ojdr.safe_not_equal), {});\n    }\n}\nvar $ca5010eea191d249$export$2e2bcd8739ae039 = $ca5010eea191d249$var$App;\n\n\nconst $26172e1f1847eb38$var$app = new (0, $ca5010eea191d249$export$2e2bcd8739ae039)({\n    target: document.body\n});\nvar $26172e1f1847eb38$export$2e2bcd8739ae039 = $26172e1f1847eb38$var$app;\n\n\n//# sourceMappingURL=index.c18c65dd.js.map\n","import App from './App.svelte';\n\nconst app: any = new App({target: document.body,});\n\nexport default app;","<script>\n\n    import {onMount} from 'svelte';\n\n    let state = \"\";\n    let code = \"\";\n\n    onMount(async() => {\n        const urlSearchParams = new URLSearchParams(window.location.search);\n        const param = Object.fromEntries(urlSearchParams.entries());\n\n        const res = await fetch('/auth/twt/callback?' + new URLSearchParams({\n            code: param[\"code\"]\n        }));\n        let data = await res.json();\n\n        if(res.ok){\n            code = data[\"status\"];\n            window.location.replace(\"/home\")\n        }\n\n    })\n\n</script>\n\n<main>\n\n    <p>{code}</p>\n\n\t<!-- {#await auth_promise}\n\t\t<p>waiting...</p>\n\t{:then url}\n\t\t<p>\n\t\t\t<a href={url}>Log-in Using Twitter</a>\n\t\t</p>\n\t{:catch error}\n\t\t<p style=\"color: red\">{error.message}</p>\n\t{/await} -->\n\n</main>\n\n\n<style>\n\t.app {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100vh;\n\t}\n\n\tmain {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding: 1rem;\n\t\twidth: 100%;\n\t\tmax-width: 64rem;\n\t\tmargin: 0 auto;\n\t\tbox-sizing: border-box;\n\t}\n\n\tfooter {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpadding: 12px;\n\t}\n\n\tfooter a {\n\t\tfont-weight: bold;\n\t}\n\n\t@media (min-width: 480px) {\n\t\tfooter {\n\t\t\tpadding: 12px 0;\n\t\t}\n\t}\n</style>","export { SvelteComponentDev as SvelteComponent, SvelteComponentTyped, afterUpdate, beforeUpdate, createEventDispatcher, getAllContexts, getContext, hasContext, onDestroy, onMount, setContext, tick } from './internal/index.mjs';\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$6ojdr","$ca5010eea191d249$var$create_fragment","ctx","main","p","t","c","element","text","attr","m","target","anchor","insert","append","dirty","set_data","i","noop","o","d","detaching","detach","$ca5010eea191d249$var$instance","$$self","$$props","$$invalidate","onMount","urlSearchParams","URLSearchParams","location","search","param","Object","fromEntries","entries","res","fetch","data","json","ok","replace","$ca5010eea191d249$var$App","SvelteComponent","constructor","options","safe_not_equal","document","body"],"version":3,"file":"index.c18c65dd.js.map"}